{"version":3,"sources":["pages/client.uvue","pages/client.uvue?type=page","pages/server.uvue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<textarea v-model=\"msg\" type=\"textarea\" auto-height placeholder=\"请输入内容\"></textarea>\r\n\t\t<button @click=\"onSendClick\">发送消息</button>\r\n\t\t<view class=\"box\">\r\n\t\t\t<view v-for=\"item in messages\" class=\"item\">服务器[{{item.host}}]回复消息：{{ item.msg }}</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { UDPClient, UDPClientSendOption, UDPData } from '@/uni_modules/uts-udp';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmsg: \"\",\r\n\t\t\t\tmessages: [] as UDPData[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonSendClick() {\r\n\t\t\t\tUDPClient.send({\r\n\t\t\t\t\thost: \"255.255.255.255\",\r\n\t\t\t\t\tport: 7000,\r\n\t\t\t\t\treceiveTimeout: 2000,\r\n\t\t\t\t\tmsg: this.msg,\r\n\t\t\t\t\tenableRecive: true,\r\n\t\t\t\t\tonceReceive(data) {\r\n\t\t\t\t\t\tthis.messages.push(data)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonError(error) {\r\n\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonceReceiveTimeout() {\r\n\t\t\t\t\t\tconsole.warn(\"服务器超时未回复\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} as UDPClientSendOption);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.box {\r\n\t\tpadding: 10px;\r\n\t}\r\n</style>",null,null],"names":[],"mappings":";;;;;;;;;;;;;;;;AAWC,8BAAS;8BAAW;AASpB,8BACC;8BACA;AATc;;;;;;eAZf,mBAMO,QAAA,SAND,WAAM,YAAS;YACpB,mBAAmF,YAAA,SAFrF,gBAEqB,KAAA,GAAG,EAFxB,aAAA,IAAA,UAAA,aAAA,GAAA,CAAA;gBAEqB,KAAA,GAAG,GAAA,SAAA,MAAA,CAAA,KAAA;;;cAAE,UAAK,YAAW,iBAAA,IAAY,iBAAY;;;;YAChE,YAA0C,mBAAA,SAAjC,aAAO,KAAA,WAAW,GAAA,SAH7B,aAAA,QAG+B,gBAAI,GAAA;uBAAA;oBAAJ;iBAAI;;eAHnC,OAAA,CAAA;;;YAIE,mBAEO,QAAA,SAFD,WAAM,QAAK;gBAChB,mBAAwF,UAAA,IAAA,EAL3F,cAAA,UAAA,CAKwB,KAAA,QAAQ,EALhC,IAKgB,MAAA,GAAA,IAAI,MAAA;2BAAjB,mBAAwF,QAAA,SAAzD,WAAM,SAAO,SAAI,gBAAE,KAAK,IAAI,IAAE,WAAM,gBAAG,KAAK,GAAG,GAAA,CAAA;;;;;;;gCAY7D;;;iCADX,kBACK,WAAM;;;aAIjB,cAAA,MAAc;YACb,UAAU,IAAI,CAeT,oBAdJ,OAAM,mBACN,OAAM,IAAI,EACV,iBAAgB,IAAI,EACpB,MAAK,IAAI,CAAC,GAAG,EACb,eAAc,IAAI,EAClB,cAAA,IAAY,IAAI,EAAE;gBACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;YACpB;cACA,UAAA,IAAQ,KAAK,EAAE;gBACd,QAAQ,KAAK,CAAC;YACf;cACA,qBAAA,MAAqB;gBACpB,QAAQ,IAAI,CAAC;YACd;;QAEF;;;sBAjBA;;;;;;;;;;;;;;;AAmBF"}